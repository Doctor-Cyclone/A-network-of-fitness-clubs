(()=>{"use strict";var e,t,l,n,o,s,c,a,i,u,r,d,y,v,p,f,m;m=document.querySelector(".club-select").querySelector(".clubs-list ul"),window.addEventListener("click",(function(e){var t=e.target;if(t.closest(".club-select"))"block"===m.style.display?m.style.display="none":m.style.display="block";else if(!t.closest(".clubs-list")){if("block"!==m.style.display)return;m.style.display="none"}})),y=document.getElementById("free_visit_form"),v=document.getElementById("callback_form"),p=document.getElementById("gift"),f=document.querySelector(".fixed-gift"),window.addEventListener("click",(function(e){var t=e.target;t.classList.contains("open-popup")?y.style.display="block":t.classList.contains("callback-btn")?v.style.display="block":t.closest(".fixed-gift")?(f.style.display="none",p.style.display="block"):(t.closest(".close-form")||t.closest(".overlay")||t.closest(".close-btn"))&&function(e){e.closest("#free_visit_form")?y.style.display="none":e.closest("#callback_form")?v.style.display="none":p.style.display="none"}(t)})),c=document.querySelector(".main-slider"),a=c.querySelectorAll(".slide-text"),i=c.querySelectorAll(".slide"),u=0,r=function(){i[u].style.display="none",++u>=i.length&&(u=0),i[u].style.display="block"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;s=setInterval(r,e)},a.forEach((function(e){e.addEventListener("mouseover",(function(){clearInterval(s)})),e.addEventListener("mouseout",(function(){d(2e3)}))})),d(2e3),function(){var e,t=document.querySelector(".popup-menu"),l=document.querySelector(".menu-button"),n=document.querySelector(".top-menu"),o=document.querySelector(".head").clientHeight,s=window.getComputedStyle(l).display;e=function(){window.scrollY>o?n.classList.add("fixed-menu"):n.classList.remove("fixed-menu")},window.onscroll=function(){"block"===s&&e()},window.addEventListener("resize",(function(){var t=window.getComputedStyle(l).display;window.onscroll="block"===t?function(){e()}:function(){n.classList.remove("fixed-menu")}})),e();var c=function(){"block"===t.style.display?t.style.display="none":t.style.display="block"};l.addEventListener("click",c),t.addEventListener("click",(function(e){var t=e.target;(t.closest(".close-menu-btn")||"A"===t.tagName)&&c()}))}(),(o=document.getElementById("totop")).style.display="none",o.addEventListener("click",(function(){window.scrollTo(0,0),o.style.display="none"})),window.onscroll=function(){document.documentElement.scrollTop>=700?o.style.display="block":o.style.display="none"},e=document.querySelectorAll('[name = "name"]'),t=document.querySelectorAll('[name = "phone"]'),l=function(e){e.addEventListener("blur",(function(){if(e.value=e.value.replace(/\-{2,}/g,"-"),e.value=e.value.replace(/\s{2,}/g," "),e.value=e.value.replace(/\+{2,}/g,"+"),e.value=e.value.replace(/\({2,}/g,"("),e.value=e.value.replace(/\){2,}/g,")"),e.value=e.value.replace(/^[\s]+|[ \s]+$/,""),e.value=e.value.replace(/^[/-]+|[/-]+$/,""),"name"===e.getAttribute("name"))if(/\D{2}/g.test(e.value)){var t=e.value.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()}));e.value=t.join(" ")}else e.value="";if("phone"===e.getAttribute("name")){if(e.value=e.value.replace(/\d{12,}/g,e.value.substr(0,11)),/\+?[78]([-()]*\d){10}/g.test(e.value.replace(/\s{1,}/g,"")))return;e.value=""}}))},n=function(e){"name"===e.getAttribute("name")?(e.addEventListener("input",(function(){e.value=e.value.replace(/[^а-яё\- ]/gi,"")})),l(e)):(e.addEventListener("input",(function(){e.value=e.value.replace(/[^-()\d\+ ]/g,"")})),l(e))},e.forEach((function(e){n(e)})),t.forEach((function(e){n(e)}))})();